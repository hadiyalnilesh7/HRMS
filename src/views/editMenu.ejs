<%- include("./layouts/header") %>
<%- include("./layouts/sidebar") %>

<div class="container-fluid">
  <div class="main-content">
    <h2>âœï¸ Edit Menu Item</h2>
    
    <form action="/menu/update" method="POST" class="card p-3 p-md-4" style="max-width: 600px; margin: 20px auto;">
      <input type="hidden" name="id" value="<%= menuItem._id %>">
      
      <div class="form-group">
        <label for="name" class="form-label"><strong>Item Name</strong></label>
        <input
          type="text"
          id="name"
          class="form-control"
          name="name"
          value="<%= menuItem.name %>"
          required
        />
      </div>

      <div class="form-group">
        <label for="price" class="form-label"><strong>Price</strong></label>
        <input
          type="number"
          id="price"
          class="form-control"
          name="price"
          value="<%= menuItem.price %>"
          required
          step="0.01"
        />
      </div>

      <div class="form-group">
        <label for="category" class="form-label"><strong>Category</strong></label>
        <% if (selectedMenuCategories && selectedMenuCategories.length > 0) { %>
          <select
            id="category"
            class="form-control"
            name="category"
            required
          >
            <option value="">Select Category</option>
            <% selectedMenuCategories.forEach(category => { %>
              <option value="<%= category %>" <%= menuItem.category === category ? 'selected' : '' %>><%= category %></option>
            <% }) %>
          </select>
        <% } %>
      </div>

      <div class="d-grid gap-2 d-md-flex">
        <button type="submit" class="btn btn-primary">ğŸ’¾ Update Item</button>
        <a href="/menu" class="btn btn-secondary">Â« Back</a>
      </div>
    </form>
  </div>
</div>

<%- include("./layouts/footer") %>
